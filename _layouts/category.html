---
layout: default
---

<div class="category-page">
  <header class="category-header">
    <h1>{{ page.category | capitalize }} Posts</h1>
    <p class="category-description">
      {% assign category_posts = site.categories[page.category] %}
      {% if category_posts %}
        {% assign post_count = category_posts.size %}
      {% else %}
        {% assign post_count = 0 %}
      {% endif %}
      {{ post_count }} post{% if post_count != 1 %}s{% endif %} in this category
    </p>
  </header>

  <div class="category-content">
    <div class="post-list">
      {% assign category_posts = site.categories[page.category] %}
      {% if category_posts and category_posts.size > 0 %}
        {% assign posts = category_posts | sort: 'date' | reverse %}
        {% for post in posts %}
          <article class="post-preview">
            <h3><a href="{{ post.url | relative_url }}">{{ post.title }}</a></h3>
            
            <!-- Enhanced Category and Tags using Web Component -->
            <post-metadata 
              layout="badge"
              categories='{{ post.categories | jsonify }}'
              tags='{{ post.tags | jsonify }}'
              date="{{ post.date | date: '%B %d, %Y' }}"
              reading-time="{{ post.content | strip_html | number_of_words | divided_by: 200 | plus: 1 }}">
            </post-metadata>
            
            <p>{{ post.excerpt | strip_html | truncatewords: 20 }}</p>
          </article>
        {% endfor %}
      {% endif %}
    </div>

    {% unless category_posts and category_posts.size > 0 %}
      <div class="empty-category">
        <h3>No posts in this category yet</h3>
        <p>Check back later for new content!</p>
        <a href="{{ '/' | relative_url }}" class="back-home">← Back to Home</a>
      </div>
    {% endunless %}
  </div>

  <nav class="category-navigation-bottom">
    <a href="{{ '/' | relative_url }}" class="nav-link">← Back to Home</a>
    <a href="{{ '/blog/' | relative_url }}" class="nav-link">All Posts →</a>
  </nav>
</div>