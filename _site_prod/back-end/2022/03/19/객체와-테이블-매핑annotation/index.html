<!DOCTYPE html><html lang="ko"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1"><title>객체와 테이블 매핑(annotation)</title><link rel="stylesheet" href="/assets/css/prism/prism-material-theme.css"><link rel="stylesheet" href="/assets/css/prism/prism-toolbar.min.css"><link rel="stylesheet" href="/assets/css/prism/prism-line-numbers.min.css"><link rel="stylesheet" href="/assets/css/style.css"><script type="module" src="https://unpkg.com/ninja-keys?module"></script></head><body><div class="container"><header><h1><a href="/">My Tech Blog</a></h1><nav><ul><li><a href="/">Home</a></li></ul></nav></header><main><article class="post"><header class="post-header"><h1 class="post-title">객체와 테이블 매핑(annotation)</h1><post-metadata layout="inline" categories='["back-end"]' tags='["spring","jpa","TIL"]' date="March 19, 2022" reading-time="2" compact="false"></post-metadata><div class="post-author"><span class="author-label">작성자:</span> <span class="author-name">jeongcool</span></div></header><div class="post-content"><h1 id="객체와-테이블-매핑annotation">객체와 테이블 매핑(annotation)</h1><h2 id="entity">@Entity</h2><p>: 컬럼 매핑</p><ul><li>table과 매핑될 클래스에 <code>@Entity</code>가 붙여진다</li><li><code>@Entity</code>가 붙은 클래스는 JPA가 관리한다.</li></ul><h3 id="주의">주의</h3><ul><li><strong>기본생성자 필수</strong><blockquote><p>접근지정자 <code>public</code> or <code>protected</code></p></blockquote></li><li><code>final class</code>, <code>enum</code>, <code>interface</code>, <code>inner class</code>를 사용하면 안 된다.</li><li>저장할 필드에 <code>final</code> 키워드는 허용되지 않는다. → JPA가 Entity를 관리하는데 값이 변경되지 않다면 관리를 할 수 없다.</li></ul><h3 id="속성">속성</h3><h4 id="1-name">1. name</h4><p>: <code>JPA</code>에서 사용할 <code>Entity</code>의 이름 지정</p><ul><li>기본값 : 클래스이름</li><li>같은 클래스 이름이 없으면 가급적 기본값 사용</li></ul><h4 id="2-insertable-updatable">2. insertable, updatable</h4><p>: 등록, 변경가능 여부</p><ul><li>기본값 : <code>true</code></li></ul><h4 id="3-nullableddl">3. nullable(DDL)</h4><p>: null 값의 허용 여부를 설정</p><ul><li>false로 설정하면 <code>DDL</code> 생성 시에 <code>not null</code> 제약조건이 붙는다.</li></ul><h4 id="4-uniqueddl">4. unique(DDL)</h4><p>: <code>@Table</code>의 <code>uniqueConstraints</code>와 같지만 한 컬럼에 간단히 유니크 제약조건을 걸때 사용</p><h4 id="5-columndefinitionddl">5. columnDefinition(DDL)</h4><p>: DB 컬럼 정보를 직접 줄 수 있다.</p><ul><li>기본값 : 필드의 자바 타입과 방언정보 사용</li></ul><h4 id="6-lengthddl">6. length(DDL)</h4><p>: 문자 길이 제약조건, String 타입에만 사용</p><ul><li>기본값 : 255</li></ul><h4 id="7-precision-scaleddl">7. precision, scale(DDL)</h4><p>: <code>BigDecimal</code> 타입 에서 사용</p><ul><li>기본값 :<pre><code>  precision=19,  
  scale=2
</code></pre></li><li><code>BigDecimal</code> ,<code>BigInteger</code> 사용</li><li><code>precision</code>은 소수점을 포함한 전체 자 릿수를, scale은 소수의 자릿수 다.</li></ul><h2 id="table">@Table</h2><p>: <code>Entity</code>를 매핑할 테이블 지정</p><h3 id="속성-1">속성</h3><h4 id="1-name-1">1. name</h4><ul><li>매핑할 테이블 이름</li><li>기본값 : Entity 이름사용</li></ul><h4 id="2-catalog">2. catalog</h4><p>: <code>DB catalog</code> 매핑</p><h4 id="3-schema">3. schema</h4><p>: <code>DB schema</code> 매핑</p><h4 id="4-uniqueconstraintsddl">4. uniqueConstraints(DDL)</h4><p>: <code>DDL</code> 생성 시 <code>unique</code> 제약 조건 생성</p><h2 id="enumrated">@Enumrated</h2><p>: <code>enum</code> 타입 매핑</p><h3 id="속성-2">속성</h3><h4 id="1-enumtypestring">1. EnumType.STRING</h4><p>: 문자열 자체가 DB에 저장된다.</p><blockquote><p>기본값이 아니여서 지정을 해줘야한다.</p></blockquote><h4 id="2-enumtypeordinal">2. EnumType.ORDINAL</h4><p>: <code>Enum</code>의 순서값이 DB 저장된다.<br><strong>절대 사용하지 마라!</strong></p><h2 id="temporal">@Temporal</h2><p>: 날자 타입 매핑</p><h3 id="속성-3">속성</h3><dl><dt><strong>TemporalType.Date</strong></dt><dd>년-월-일 의 data type</dd><dt><strong>TemporalType.Time</strong></dt><dd>시:분:초 의 data type</dd><dt><strong>TemporalType.TIMESTAMP</strong></dt><dd>년-월-일 의 date + time 의 timestamp(datetime)</dd></dl><h2 id="lob">@Lob</h2><p>: <code>BLOB</code>, <code>CLOB</code> 매핑</p><ul><li>속성이 없다</li><li><code>CLOB</code>: <code>String</code>, <code>char[]</code>, <code>java.sql.CLOB</code>`</li><li><code>BLOB</code>: <code>byte[]</code>, <code>java.sql,BLOB</code></li></ul><h2 id="transient">Transient</h2><ul><li>필드 매핑을 하지 않을때</li><li>DB 저장 및 조회를 하지 않는다</li><li>주로 메모리 상에서만 임시로 어떤 값을 보관하고 싶을때 사용한다.</li></ul></div><footer class="post-footer"><div class="post-navigation"><div class="nav-previous"><span class="nav-label">이전 글</span> <a href="/cs/2022/03/19/%EA%B0%9D%EC%B2%B4-%EC%A7%80%ED%96%A5-%ED%94%84%EB%A1%9C%EA%B7%B8%EB%9E%98%EB%B0%8Dobject-oriented-programming-%ED%95%9C%EB%88%88%EC%97%90-%EB%B3%B4%EA%B8%B0/" class="nav-link">객체 지향 프로그래밍(Object Oriented Programming) 한눈에 보기</a></div><div class="nav-next"><span class="nav-label">다음 글</span> <a href="/back-end/2022/03/19/%EA%B0%9D%EC%B2%B4%EC%A7%80%ED%96%A5-%EC%BF%BC%EB%A6%AC-%EC%96%B8%EC%96%B4/" class="nav-link">객체지향 쿼리 언어</a></div></div></footer></article></main></div><script src="/assets/js/prism/prism.min.js"></script><script src="/assets/js/prism/prism-autoloader.min.js"></script><script src="/assets/js/prism/prism-toolbar.min.js"></script><script src="/assets/js/prism/prism-copy-to-clipboard.min.js"></script><script src="/assets/js/prism/prism-show-language.min.js"></script><script src="/assets/js/prism/prism-line-numbers.min.js"></script><script>document.addEventListener("DOMContentLoaded",function(){Prism.plugins&&Prism.plugins.autoloader&&(Prism.plugins.autoloader.languages_path="/assets/js/prism/components/",console.log("Prism autoloader configured with local path:",Prism.plugins.autoloader.languages_path)),document.querySelectorAll('pre[class*="language-"]').forEach(function(s){s.classList.add("line-numbers")}),Prism.highlightAll()})</script><script src="/assets/js/command-palette.js"></script><script src="/assets/js/category-sidebar.js"></script><script src="/assets/js/post-metadata.js"></script></body></html>