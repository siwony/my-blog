class PostMetadata extends HTMLElement{constructor(){super(),this.render=this.render.bind(this)}static get observedAttributes(){return["categories","tags","show-labels","compact","layout","reading-time","date"]}connectedCallback(){this.render()}attributeChangedCallback(){this.render()}get categories(){try{var t=this.getAttribute("categories");return t?JSON.parse(t):[]}catch(t){return[]}}get tags(){try{var t=this.getAttribute("tags");return t?JSON.parse(t):[]}catch(t){return[]}}get showLabels(){return"false"!==this.getAttribute("show-labels")}get compact(){return"true"===this.getAttribute("compact")}get layout(){return this.getAttribute("layout")||"default"}get readingTime(){return this.getAttribute("reading-time")}get date(){return this.getAttribute("date")}render(){var t=this.categories,e=this.tags,a=this.showLabels,s=this.compact,r=this.layout,i=this.readingTime,n=this.date;t.length||e.length||i||n?this.innerHTML="badge"===r?this.renderBadgeLayout(t,e,i,n,s):"inline"===r?this.renderInlineLayout(t,e,i,n,s):this.renderDefaultLayout(t,e,a,s):this.innerHTML=""}renderDefaultLayout(s,a,t,r){if(!s.length&&!a.length)return"";let i=`<div class="post-metadata${r?" compact":""}">`;return 0<s.length&&(i+='<div class="post-categories">',s.forEach((t,e)=>{var a=t.toLowerCase().replace(/\s+/g,"-");i+=`<a href="/category/${a}" class="category-tag">${this.capitalizeFirst(t)}</a>`,e<s.length-1&&(i+=r?" ":", ")}),i+="</div>"),0<a.length&&(i+='<div class="post-tags">',a.forEach((t,e)=>{i+=`<span class="post-tag">#${t}</span>`,e<a.length-1&&(i+=r?" ":", ")}),i+="</div>"),i+="</div>"}renderBadgeLayout(t,a,e,s,r){let i='<div class="post-metadata-enhanced">';0<t.length&&(n=(t=t[0]).toLowerCase().replace(/\s+/g,"-"),i+=`<span class="category-badge" data-category="${n}">
        <a href="/category/${n}">${this.capitalizeFirst(t)}</a>
      </span>`);var n=[];return s&&n.push(`<span class="post-date">${s}</span>`),e&&n.push(`<span class="reading-time">${e} min read</span>`),0<n.length&&(i+=`<div class="post-meta-inline">${n.join('<span class="meta-separator"> · </span>')}</div>`),0<a.length&&(i+='<div class="post-tags-inline">',a.forEach((t,e)=>{i+=`<span class="post-tag-inline">#${t}</span>`,e<a.length-1&&(i+=" ")}),i+="</div>"),i+="</div>"}renderInlineLayout(t,e,a,s,r){var i=[];return s&&i.push(s),a&&i.push(a+" min read"),0<t.length&&(s=t.map(t=>`<a href="/category/${t.toLowerCase().replace(/\s+/g,"-")}" class="category-link-inline">${this.capitalizeFirst(t)}</a>`),i.push(s.join(", "))),0<e.length&&(a=e.map(t=>"#"+t),i.push(a.join(" "))),`<div class="post-metadata-inline">${i.join(" · ")}</div>`}capitalizeFirst(t){return t.charAt(0).toUpperCase()+t.slice(1)}}customElements.define("post-metadata",PostMetadata);