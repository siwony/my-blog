<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CAP Theorem</title>
    
    <!-- Prism.js CSS 먼저 로드 -->
    <link rel="stylesheet" href="/assets/css/prism/prism-material-theme.css">
    <link rel="stylesheet" href="/assets/css/prism/prism-toolbar.min.css">
    <link rel="stylesheet" href="/assets/css/prism/prism-line-numbers.min.css">

    <!-- 사이트 CSS -->
    <link rel="stylesheet" href="/assets/css/style.css">

    <!-- Ninja Keys CSS -->
    <script type="module" src="https://unpkg.com/ninja-keys?module"></script>
</head>
<body>
    <div class="container">
        <header>
            <h1><a href="/">My Tech Blog</a></h1>
            <nav>
                <ul>
                    <li><a href="/">Home</a></li>
                </ul>
            </nav>
        </header>

        <main>
            <article class="post">
    <header class="post-header">
        <h1 class="post-title">CAP Theorem</h1>
        
        <!-- Enhanced metadata using post-metadata component -->
        <post-metadata 
          layout="inline"
          categories='["cs"]'
          tags='["distributed-systems","TIL"]'
          date="July 19, 2022"
          reading-time="1"
          compact="false">
        </post-metadata>
        
        
        <div class="post-author">
          <span class="author-label">작성자:</span>
          <span class="author-name">jeongcool</span>
        </div>
        
    </header>

    <div class="post-content">
        <h1 id="cap-theorem">CAP Theorem</h1>
<p>CAP 이론에서 CAP는 다음과 같이 분산 데이터베이스 시스템의 세 가지 속성인 일관성(Consistency), 가용성(Availability), 파티션 허용성(Partition tolerance)를 나타낸다,</p>

<table>
  <thead>
    <tr>
      <th>속성</th>
      <th>설명</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>일관성</td>
      <td>모든 요청은 최신 데이터 또는 에러를 응답받는다.</td>
    </tr>
    <tr>
      <td>가용성</td>
      <td>모든 요청은 정상 응답을 받는다.</td>
    </tr>
    <tr>
      <td>파티션 허용성</td>
      <td>노드간 통신이 실패하는 경우라도 시스템은 정상 동작 한다.</td>
    </tr>
  </tbody>
</table>

<p><strong>(주의) 여기서 말하는 일관성은 ACID의 일관성과 다르다.</strong></p>

<h3 id="cap-의-핵심">CAP 의 핵심</h3>
<p><strong>CAP 이론에 따르면 분산 데이터베이스 시스템은 네트워크 파티션이 발생하였을 때 세 가지 속성 중 두 가지만 만족할 수 있다.</strong></p>

<h4 id="세-가지-속성-중-두가지를-만족하는-시스템">세 가지 속성 중 두가지를 만족하는 시스템</h4>
<ul>
  <li>CA(Consistency-Availablility)</li>
  <li>CP(Consistency-Partition tolerance)</li>
  <li>AP(Availability-Partition tolerance)</li>
</ul>

<p>CAP 이론은 위와 같이 세 종류의 시스템으로 나뉘지만 CAP이론은 네트워크 파티션 상황을 가정하므로 CA 시스템은 있을 수 없다. CA 시스템이 가능하려면 네트워크 파티션이 없어야 한다. 하지만, 네트워크 파티션이 없으면 CAP이론 자체가 쓸모가 없고, 네트워크 파티션은 어떤 이유에서든지 발생할 수 있다.</p>

<p>분산 시스템에서 노드끼리 데이터를 주고 받을 때 타임아웃이 발생하는 모든 경우를 네트워크 파티션으로 볼 수 있다.<br />
여기서 타임아웃은 하드웨어 문제 뿐만 아니라 Java의 GC등 다양한 이유로 발생할 수 있따.</p>

<h2 id="cap-이론-논란">CAP 이론 논란</h2>
<ul>
  <li><a href="https://martin.kleppmann.com/2015/05/11/please-stop-calling-databases-cp-or-ap.html">DB를 CP나 AP라고 불리는 것 멈춰! 둘다 아니니깐</a></li>
  <li><a href="https://www.quora.com/Distributed-Databases-What-are-the-best-known-exceptions-for-CAP-theorem">CAP 이론의 예외로 가장 잘 알려진 것은?</a></li>
</ul>

<h2 id="reference">Reference</h2>
<ul>
  <li>http://happinessoncode.com/2017/07/29/cap-theorem-and-pacelc-theorem/</li>
  <li>https://okky.kr/article/324449</li>
</ul>

    </div>
    
    <footer class="post-footer">
        <div class="post-navigation">
            
            <div class="nav-previous">
                <span class="nav-label">이전 글</span>
                <a href="/back-end/2022/07/12/spring-transaction-propagation-%EC%8A%A4%ED%94%84%EB%A7%81-%ED%8A%B8%EB%9E%9C%EC%9E%AD%EC%85%98-%EC%A0%84%ED%8C%8C%EC%86%8D%EC%84%B1/" class="nav-link">Spring Transaction Propagation - 스프링 트랜잭션 전파속성</a>
            </div>
            
            
            
            <div class="nav-next">
                <span class="nav-label">다음 글</span>
                <a href="/database/2022/08/01/aws-ec2-amazon-linux2-%ED%99%98%EA%B2%BD%EC%97%90-redis%EC%84%A4%EC%B9%98%ED%95%98%EA%B8%B0/" class="nav-link">AWS EC2 + Amazon linux2 환경에 redis설치하기</a>
            </div>
            
        </div>
    </footer>
</article>

        </main>
    </div>

    <!-- Prism.js JavaScript 로드 (순서 중요!) -->
    <script src="/assets/js/prism/prism.min.js"></script>
    <script src="/assets/js/prism/prism-autoloader.min.js"></script>
    <script src="/assets/js/prism/prism-toolbar.min.js"></script>
    <script src="/assets/js/prism/prism-copy-to-clipboard.min.js"></script>
    <script src="/assets/js/prism/prism-show-language.min.js"></script>
    <script src="/assets/js/prism/prism-line-numbers.min.js"></script>

    <!-- Prism.js 초기화 스크립트 -->
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // autoloader 경로 설정 (로컬 컴포넌트 사용)
            if (Prism.plugins && Prism.plugins.autoloader) {
                Prism.plugins.autoloader.languages_path = '/assets/js/prism/components/';
                console.log('Prism autoloader configured with local path:', Prism.plugins.autoloader.languages_path);
            }
            
            // 모든 pre 태그에 toolbar와 line-numbers 클래스 추가
            document.querySelectorAll('pre[class*="language-"]').forEach(function(pre) {
                pre.classList.add('line-numbers');
            });
            
            // Prism 하이라이팅 재실행
            Prism.highlightAll();
        });
    </script>
    
    <!-- Command Palette (Ninja Keys) -->
    <script src="/assets/js/command-palette.js"></script>
    
    <!-- Category Sidebar Web Component -->
    <script src="/assets/js/category-sidebar.js"></script>
    
    <!-- Post Metadata Web Component -->
    <script src="/assets/js/post-metadata.js"></script>
</body>
</html>
