{"version":3,"names":[],"mappings":"","sources":["post-metadata.js"],"sourcesContent":["/**\n * PostMetadata Web Component\n * Displays post categories and tags in a consistent format\n * \n * Attributes:\n * - categories: JSON array of categories\n * - tags: JSON array of tags\n * - show-labels: boolean to show/hide labels (default: true)\n * - compact: boolean for compact display (default: false)\n * - layout: string layout style ('default', 'badge', 'inline') (default: 'default')\n * - reading-time: string estimated reading time\n * - date: string post date\n */\nclass PostMetadata extends HTMLElement {\n  constructor() {\n    super();\n    this.render = this.render.bind(this);\n  }\n\n  static get observedAttributes() {\n    return ['categories', 'tags', 'show-labels', 'compact', 'layout', 'reading-time', 'date'];\n  }\n\n  connectedCallback() {\n    this.render();\n  }\n\n  attributeChangedCallback() {\n    this.render();\n  }\n\n  get categories() {\n    try {\n      const categoriesAttr = this.getAttribute('categories');\n      return categoriesAttr ? JSON.parse(categoriesAttr) : [];\n    } catch (e) {\n      console.warn('PostMetadata: Invalid categories JSON', e);\n      return [];\n    }\n  }\n\n  get tags() {\n    try {\n      const tagsAttr = this.getAttribute('tags');\n      return tagsAttr ? JSON.parse(tagsAttr) : [];\n    } catch (e) {\n      console.warn('PostMetadata: Invalid tags JSON', e);\n      return [];\n    }\n  }\n\n  get showLabels() {\n    return this.getAttribute('show-labels') !== 'false';\n  }\n\n  get compact() {\n    return this.getAttribute('compact') === 'true';\n  }\n\n  get layout() {\n    return this.getAttribute('layout') || 'default';\n  }\n\n  get readingTime() {\n    return this.getAttribute('reading-time');\n  }\n\n  get date() {\n    return this.getAttribute('date');\n  }\n\n  render() {\n    const categories = this.categories;\n    const tags = this.tags;\n    const showLabels = this.showLabels;\n    const compact = this.compact;\n    const layout = this.layout;\n    const readingTime = this.readingTime;\n    const date = this.date;\n\n    if (!categories.length && !tags.length && !readingTime && !date) {\n      this.innerHTML = '';\n      return;\n    }\n\n    // Badge layout for enhanced post preview\n    if (layout === 'badge') {\n      this.innerHTML = this.renderBadgeLayout(categories, tags, readingTime, date, compact);\n      return;\n    }\n\n    // Inline layout for compact display\n    if (layout === 'inline') {\n      this.innerHTML = this.renderInlineLayout(categories, tags, readingTime, date, compact);\n      return;\n    }\n\n    // Default layout (existing behavior)\n    this.innerHTML = this.renderDefaultLayout(categories, tags, showLabels, compact);\n  }\n\n  renderDefaultLayout(categories, tags, showLabels, compact) {\n    if (!categories.length && !tags.length) {\n      return '';\n    }\n\n    let html = `<div class=\"post-metadata${compact ? ' compact' : ''}\">`;\n\n    // Render categories\n    if (categories.length > 0) {\n      html += '<div class=\"post-categories\">';\n      \n      categories.forEach((category, index) => {\n        const categorySlug = category.toLowerCase().replace(/\\s+/g, '-');\n        html += `<a href=\"/category/${categorySlug}\" class=\"category-tag\">${this.capitalizeFirst(category)}</a>`;\n        if (index < categories.length - 1) {\n          html += compact ? ' ' : ', ';\n        }\n      });\n      \n      html += '</div>';\n    }\n\n    // Render tags with # prefix\n    if (tags.length > 0) {\n      html += '<div class=\"post-tags\">';\n      \n      tags.forEach((tag, index) => {\n        html += `<span class=\"post-tag\">#${tag}</span>`;\n        if (index < tags.length - 1) {\n          html += compact ? ' ' : ', ';\n        }\n      });\n      \n      html += '</div>';\n    }\n\n    html += '</div>';\n    return html;\n  }\n\n  renderBadgeLayout(categories, tags, readingTime, date, compact) {\n    let html = '<div class=\"post-metadata-enhanced\">';\n    \n    // Category badge (only first category for cleaner look)\n    if (categories.length > 0) {\n      const category = categories[0];\n      const categorySlug = category.toLowerCase().replace(/\\s+/g, '-');\n      html += `<span class=\"category-badge\" data-category=\"${categorySlug}\">\n        <a href=\"/category/${categorySlug}\">${this.capitalizeFirst(category)}</a>\n      </span>`;\n    }\n    \n    // Inline metadata\n    const metaParts = [];\n    if (date) metaParts.push(`<span class=\"post-date\">${date}</span>`);\n    if (readingTime) metaParts.push(`<span class=\"reading-time\">${readingTime} min read</span>`);\n    \n    if (metaParts.length > 0) {\n      html += `<div class=\"post-meta-inline\">${metaParts.join('<span class=\"meta-separator\"> · </span>')}</div>`;\n    }\n    \n    // Tags\n    if (tags.length > 0) {\n      html += '<div class=\"post-tags-inline\">';\n      tags.forEach((tag, index) => {\n        html += `<span class=\"post-tag-inline\">#${tag}</span>`;\n        if (index < tags.length - 1) {\n          html += ' ';\n        }\n      });\n      html += '</div>';\n    }\n    \n    html += '</div>';\n    return html;\n  }\n\n  renderInlineLayout(categories, tags, readingTime, date, compact) {\n    const parts = [];\n    \n    if (date) parts.push(date);\n    if (readingTime) parts.push(`${readingTime} min read`);\n    if (categories.length > 0) {\n      const categoryLinks = categories.map(category => {\n        const categorySlug = category.toLowerCase().replace(/\\s+/g, '-');\n        return `<a href=\"/category/${categorySlug}\" class=\"category-link-inline\">${this.capitalizeFirst(category)}</a>`;\n      });\n      parts.push(categoryLinks.join(', '));\n    }\n    if (tags.length > 0) {\n      const tagStrings = tags.map(tag => `#${tag}`);\n      parts.push(tagStrings.join(' '));\n    }\n    \n    return `<div class=\"post-metadata-inline\">${parts.join(' · ')}</div>`;\n  }\n\n  capitalizeFirst(str) {\n    return str.charAt(0).toUpperCase() + str.slice(1);\n  }\n}\n\n// Register the custom element\ncustomElements.define('post-metadata', PostMetadata);"],"file":"post-metadata.js"}