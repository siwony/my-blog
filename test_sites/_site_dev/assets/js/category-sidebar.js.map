{"version":3,"names":[],"mappings":"","sources":["category-sidebar.js"],"sourcesContent":["class CategorySidebar extends HTMLElement {\n  constructor() {\n    super();\n    this.categories = [];\n    this.totalPosts = 0;\n  }\n\n  connectedCallback() {\n    // Initial render with default values\n    this.render();\n    \n    // Parse initial attributes if they exist\n    const categoriesData = this.getAttribute('categories-data');\n    const totalPostsData = this.getAttribute('total-posts');\n    \n    if (categoriesData) {\n      this.setCategoriesData(categoriesData);\n    }\n    \n    if (totalPostsData) {\n      this.setTotalPosts(totalPostsData);\n    }\n  }\n\n  static get observedAttributes() {\n    return ['categories-data', 'total-posts'];\n  }\n\n  attributeChangedCallback(name, oldValue, newValue) {\n    if (name === 'categories-data' && newValue) {\n      this.setCategoriesData(newValue);\n    }\n    \n    if (name === 'total-posts' && newValue) {\n      this.setTotalPosts(newValue);\n    }\n  }\n\n  setCategoriesData(data) {\n    try {\n      this.categories = JSON.parse(data);\n      this.render();\n    } catch (e) {\n      console.error('Failed to parse categories data:', e);\n      this.categories = [];\n      this.render();\n    }\n  }\n\n  setTotalPosts(data) {\n    this.totalPosts = parseInt(data, 10) || 0;\n    this.render();\n  }\n\n  formatCategoryName(name) {\n    return name.split('-')\n      .map(word => word.charAt(0).toUpperCase() + word.slice(1))\n      .join(' ');\n  }\n\n  createCategoryLink(categoryName, postCount) {\n    const categoryUrl = `/category/${categoryName}/`;\n    \n    return `\n      <li class=\"category-item\">\n        <a href=\"${categoryUrl}\" class=\"category-link\">\n          <span class=\"category-name\">${this.formatCategoryName(categoryName)}</span>\n          <span class=\"category-count\">${postCount}</span>\n        </a>\n      </li>\n    `;\n  }\n\n  render() {\n    // Show loading state if no data yet\n    if (this.categories.length === 0 && this.totalPosts === 0) {\n      this.innerHTML = `\n        <aside class=\"sidebar\">\n          <div class=\"category-navigation\">\n            <h3>Categories</h3>\n            <ul class=\"category-list\">\n              <li class=\"category-item\">Loading...</li>\n            </ul>\n            \n            <div class=\"total-posts\">\n              <span class=\"total-label\">Total Posts</span>\n              <span class=\"total-count\">0</span>\n            </div>\n          </div>\n        </aside>\n      `;\n      return;\n    }\n\n    // Sort categories alphabetically\n    const sortedCategories = this.categories.sort((a, b) => a.name.localeCompare(b.name));\n\n    const categoryListItems = sortedCategories\n      .map(category => this.createCategoryLink(category.name, category.count))\n      .join('');\n\n    this.innerHTML = `\n      <aside class=\"sidebar\">\n        <div class=\"category-navigation\">\n          <h3>Categories</h3>\n          <ul class=\"category-list\">\n            ${categoryListItems || '<li class=\"category-item\">No categories found</li>'}\n          </ul>\n          \n          <div class=\"total-posts\">\n            <span class=\"total-label\">Total Posts</span>\n            <span class=\"total-count\">${this.totalPosts}</span>\n          </div>\n        </div>\n      </aside>\n    `;\n  }\n}\n\n// Register the custom element\ncustomElements.define('category-sidebar', CategorySidebar);"],"file":"category-sidebar.js"}