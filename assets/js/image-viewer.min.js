!function(){"use strict";document.addEventListener("DOMContentLoaded",function(){void 0!==window.PhotoSwipeLightbox&&function(){const t=[".post-content",".content","article",".markdown-body"];let e=null;for(const n of t)if(e=document.querySelector(n),e)break;if(!e)return;const n=e.querySelectorAll('img:not(pre img):not(code img):not(.pswp__img):not(.icon):not([width="16"]):not([width="24"]):not([height="16"]):not([height="24"])');if(0===n.length)return;const o=[];function i(t){const e=new window.PhotoSwipeLightbox({dataSource:o,pswpModule:window.PhotoSwipe,showHideAnimationType:"zoom",arrowKeys:!0,escKey:!0,closeOnVerticalDrag:!0,initialZoomLevel:"fit",secondaryZoomLevel:2,maxZoomLevel:4,paddingFn:()=>({top:40,bottom:40,left:20,right:20}),counterEl:!0});e.on("uiRegister",function(){e.pswp.ui.registerElement({name:"custom-caption",order:9,isButton:!1,appendTo:"root",onInit:(t,e)=>{t.className="pswp__custom-caption-container",e.on("change",()=>{const n=e.currSlide.data.alt;n&&n.trim()?(t.innerHTML=`<div class="pswp__custom-caption">${function(t){const e=document.createElement("div");return e.textContent=t,e.innerHTML}(n)}</div>`,t.hidden=!1):(t.innerHTML="",t.hidden=!0)})}})}),e.init(),e.loadAndOpen(t)}n.forEach((t,e)=>{const n=()=>{const n=t.naturalWidth||t.width||1200,i=t.naturalHeight||t.height||800;o[e]={src:t.src,width:n,height:i,alt:t.alt||"",element:t}};t.complete?n():(t.addEventListener("load",n),o[e]={src:t.src,width:1200,height:800,alt:t.alt||"",element:t}),t.dataset.pswpIndex=e,t.setAttribute("role","button"),t.setAttribute("tabindex","0"),t.setAttribute("aria-label",t.alt?"이미지 확대:"+t.alt:"이미지 확대"),t.addEventListener("click",function(t){t.preventDefault(),i(parseInt(this.dataset.pswpIndex,10))}),t.addEventListener("keydown",function(t){"Enter"!==t.key&&" "!==t.key||(t.preventDefault(),i(parseInt(this.dataset.pswpIndex,10)))})})}()})}();