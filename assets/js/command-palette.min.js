class CommandPalette{constructor(){this.searchData=[],this.ninja=null,this.init()}async init(){await this.loadSearchData(),this.setupNinjaKeys(),this.setupKeyboardShortcuts()}async loadSearchData(){try{const t=await fetch("/assets/js/search-data.json");this.searchData=await t.json()}catch(t){this.searchData=[]}}setupNinjaKeys(){this.ninja=document.createElement("ninja-keys"),this.ninja.placeholder="Search posts...",this.ninja.disableHotkeys=!1,this.ninja.hideBreadcrumbs=!0,this.ninja.hotKeys="cmd+k,ctrl+k",this.ninja.style.setProperty("--ninja-z-index","10000"),this.ninja.style.setProperty("--ninja-backdrop-filter","blur(16px)"),this.ninja.style.setProperty("--ninja-overflow","hidden"),this.ninja.style.setProperty("--ninja-text-color","#1f2937"),this.ninja.style.setProperty("--ninja-secondary-text-color","#6b7280"),this.ninja.style.setProperty("--ninja-selected-text-color","#ffffff"),this.ninja.style.setProperty("--ninja-modal-background","rgba(255,255,255,0.98)"),this.ninja.style.setProperty("--ninja-modal-border","1px solid rgba(0,0,0,0.1)"),document.body.appendChild(this.ninja),this.updateNinjaData()}updateNinjaData(){if(!this.ninja)return;const t=this.searchData.map(t=>{const e=Array.isArray(t.tags)?t.tags.join(" "):"",a=[t.title,t.category,t.excerpt,e,this.generateSearchTerms(t.title),this.generateSearchTerms(t.excerpt)].filter(Boolean).join(" ").toLowerCase();return{id:`post-${t.url}`,title:t.title,subtitle:`${t.category}â€¢ ${this.formatDate(t.date)}${e?` â€¢ ${e}`:""}`,section:this.formatCategory(t.category),keywords:a,handler:()=>{window.location.href=t.url}}}),e=[{id:"home",title:"Home",subtitle:"Go to homepage",section:"Navigation",keywords:"home homepage main í™ˆ ë©”ì¸",handler:()=>{window.location.href="/"}},{id:"blog",title:"All Posts",subtitle:"View all blog posts",section:"Navigation",keywords:"blog posts all articles ë¸”ë¡œê·¸ í¬ìŠ¤íŠ¸ ê¸€ ì „ì²´",handler:()=>{window.location.href="/blog.html"}}];this.ninja.data=[...e,...t]}generateSearchTerms(t){return t?t.replace(/[^\w\sê°€-íž£]/g," ").split(/\s+/).filter(t=>t.length>1).slice(0,10).join(" "):""}setupKeyboardShortcuts(){document.addEventListener("keydown",t=>{(t.metaKey||t.ctrlKey)&&"k"===t.key&&(t.preventDefault(),this.open()),"Escape"===t.key&&this.close()})}open(){this.ninja&&this.ninja.open()}close(){this.ninja&&this.ninja.close()}formatDate(t){return new Date(t).toLocaleDateString("ko-KR",{year:"numeric",month:"long",day:"numeric"})}formatCategory(t){return{programming:"ðŸ’» Programming",general:"ðŸ“ General",test:"ðŸ§ª Test",tutorial:"ðŸ“š Tutorial",review:"â­ Review",thoughts:"ðŸ’­ Thoughts",database:"ðŸ—„ï¸ Database",devops:"âš™ï¸ DevOps",algorithm:"ðŸ§® Algorithm",java:"â˜• Java",javascript:"ðŸŸ¨ JavaScript",python:"ðŸ Python",css:"ðŸŽ¨ CSS",html:"ðŸŒ HTML",docker:"ðŸ³ Docker",aws:"â˜ï¸ AWS",git:"ðŸ“‹ Git",spring:"ðŸƒ Spring",mysql:"ðŸ¬ MySQL",linux:"ðŸ§ Linux",network:"ðŸŒ Network",security:"ðŸ”’ Security",react:"âš›ï¸ React",vue:"ðŸ’š Vue",node:"ðŸŸ¢ Node.js"}[t]||`ðŸ“‚ ${t.charAt(0).toUpperCase()+t.slice(1)}`}refresh(){this.loadSearchData().then(()=>{this.updateNinjaData()})}}function addSearchHint(){const t=document.createElement("div");t.innerHTML=' <div style=" position:fixed;bottom:20px;right:20px;background:rgba(0,0,0,0.8);color:white;padding:8px 12px;border-radius:6px;font-size:12px;font-family:-apple-system,BlinkMacSystemFont,\'Segoe UI\',Roboto,sans-serif;backdrop-filter:blur(10px);z-index:1000;opacity:0.7;transition:opacity 0.2s;" onmouseover="this.style.opacity=\'1\'" onmouseout="this.style.opacity=\'0.7\'"> Press <kbd style=" background:rgba(255,255,255,0.2);padding:2px 6px;border-radius:3px;font-size:11px;">âŒ˜ K</kbd> to search </div> ',document.body.appendChild(t),setTimeout(()=>{t.style.opacity="0",setTimeout(()=>t.remove(),200)},5e3)}"loading"===document.readyState?document.addEventListener("DOMContentLoaded",()=>{window.commandPalette=new CommandPalette}):window.commandPalette=new CommandPalette,"loading"===document.readyState?document.addEventListener("DOMContentLoaded",addSearchHint):addSearchHint();