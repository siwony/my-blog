!function(){"use strict";const t=document.getElementById("toc-list"),e=document.getElementById("toc-sidebar");if(!t||!e)return;const n=document.querySelector(".post-content");if(!n)return;const i=n.querySelectorAll("h1,h2,h3,h4,h5");if(i.length<2)return void(e.style.display="none");const o=[];i.forEach((e,n)=>{e.id||(e.id="heading-"+n);const i=document.createElement("li"),c=document.createElement("a");c.href="#"+e.id,c.textContent=e.textContent.replace(/^#+ /,""),c.dataset.headingId=e.id;const l=e.tagName.charAt(1);l>=2&&c.classList.add("toc-h"+l),i.appendChild(c),t.appendChild(i),o.push({link:c,heading:e})});let c=null;function l(){let t=null;for(let e=o.length-1;e>=0;e--){const n=o[e];if(n.heading.getBoundingClientRect().top<=120){t=n.link;break}}c!==t&&(c&&c.classList.remove("active"),t&&t.classList.add("active"),c=t)}let d=!1;window.addEventListener("scroll",function(){d||(requestAnimationFrame(()=>{l(),d=!1}),d=!0)},{passive:!0}),l(),t.addEventListener("click",t=>{if("A"===t.target.tagName){t.preventDefault();const e=t.target.getAttribute("href").slice(1),n=document.getElementById(e);if(n){const t=n.getBoundingClientRect().top+window.pageYOffset-100;window.scrollTo({top:t,behavior:"smooth"})}}})}();